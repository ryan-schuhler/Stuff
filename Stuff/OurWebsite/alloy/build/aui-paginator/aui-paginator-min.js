AUI.add("aui-paginator",function(ah){var X=ah.Lang,f=X.isArray,ay=X.isBoolean,aw=X.isFunction,O=X.isNumber,G=X.isObject,aF=X.isString,B=X.toInt,C="alwaysVisible",o="boundingBox",D="circular",c="container",J="containers",ac="content",aq="current",W=".",x="first",aj="firstPageLink",aL="firstPageLinkLabel",g="last",M="lastPageLink",aI="lastPageLinkLabel",ad="link",am="maxPageLinks",m="next",av="nextPageLink",ag="nextPageLinkLabel",aB="option",p="page",w="pageContainerTemplate",K="pageLinkContent",I="pageLinkTemplate",e="pageReportEl",u="pageReportLabelTemplate",al="paginator",ax="per",az="prev",j="prevPageLink",b="prevPageLinkLabel",aa="report",k="rows",ak="rowsPerPage",aH="rowsPerPageEl",t="rowsPerPageOptions",N="select",aC="selected",r=" ",T="state",au="template",af="total",P="totalEl",V="totalLabel",ae="totalPages",aG=function(){return Array.prototype.slice.call(arguments).join(r);},aJ=function(A){return(A instanceof ah.NodeList);},F=ah.getClassName,at=ah.UA.ie,y=F(al),s=F(al,c),an=F(al,ac),z=F(al,aq,p),aK=F(al,x,ad),l=F(al,g,ad),aD=F(al,ad),d=F(al,m,ad),a=F(al,p,c),ap=F(al,p,ad),v=F(al,aq,p,aa),ao=F(al,az,ad),q=F(al,k,ax,p),i=F(al,af),U="(Total {total})",R="({page} of {totalPages})",Z="{FirstPageLink} {PrevPageLink} {PageLinks} {NextPageLink} {LastPageLink} {CurrentPageReport} {Total} {RowsPerPageSelect}",ar="&gt;",Q="&lt;",h='<a href="#" class="'+aG(aD,aK)+'"></a>',ab='<a href="#" class="'+aG(aD,l)+'"></a>',H='<a href="#" class="'+aG(aD,d)+'"></a>',aE="<span></span>",Y='<a href="#"></a>',n='<span class="'+aG(v)+'"></span>',aA='<a href="#" class="'+aG(aD,ao)+'"></a>',ai='<select class="'+q+'"></select>',S='<span class="'+aG(i)+'"></span>';var E=ah.Component.create({NAME:al,ATTRS:{alwaysVisible:{value:true,validator:ay},circular:{value:false,validator:ay},containers:{writeOnce:true,setter:function(L){var A=this;if(aJ(L)){return L;}else{if(aF(L)){return ah.all(L);}}return new ah.NodeList([L]);}},firstPageLink:{setter:ah.one,valueFn:function(){var A=this.get(aL);return ah.Node.create(h).html(A);}},firstPageLinkLabel:{value:x,validator:aF},lastPageLink:{setter:ah.one,valueFn:function(){var A=this.get(aI);return ah.Node.create(ab).html(A);}},lastPageLinkLabel:{value:g,validator:aF},maxPageLinks:{value:10,getter:function(A){var L=this.get(ae);return Math.min(L,A);},validator:O},nextPageLink:{setter:ah.one,valueFn:function(){var A=this.get(ag);return ah.Node.create(H).html(A);}},nextPageLinkLabel:{value:aG(m,ar),validator:aF},page:{setter:B,value:1},pageContainerTemplate:{getter:function(A){return ah.Node.create(A).addClass(a);},value:aE,validator:aF},pageLinkContent:{value:function(aM,A,L){aM.html(A);},validator:aw},pageLinkTemplate:{getter:function(A){var L=ah.Node.create(A);return L.addClass(aG(aD,ap));},value:Y,validator:aF},pageReportEl:{setter:ah.one,valueFn:function(){var A=this.get(u);return ah.Node.create(n).html(A);}},pageReportLabelTemplate:{getter:function(){var A=this;return X.sub(R,{page:A.get(p),totalPages:A.get(ae)});},validator:aF},prevPageLink:{setter:ah.one,valueFn:function(){var A=this.get(b);return ah.Node.create(aA).html(A);}},prevPageLinkLabel:{value:aG(Q,az),validator:aF},rowsPerPageOptions:{value:{},validator:f},rowsPerPage:{setter:B,value:1},rowsPerPageEl:{setter:ah.one,getter:function(aN){var A=this;var L=aN.all(aB);L.removeAttribute(aC);var aM=L.filter("[value="+A.get(ak)+"]");if(aM){aM.setAttribute(aC,aC);}return aN;},valueFn:function(){return ah.Node.create(ai);}},state:{setter:"_setState",getter:"_getState",value:{},validator:G},template:{getter:"_getTemplate",writeOnce:true,value:Z,validator:aF},total:{setter:"_setTotal",value:0,validator:O},totalEl:{setter:ah.one,getter:function(){var A=this.get(V);return ah.Node.create(S).html(A);}},totalLabel:{getter:function(){var A=this;return X.sub(U,{total:A.get(af)});},validator:aF},totalPages:{readOnly:true,getter:function(A){return Math.ceil(this.get(af)/this.get(ak));}}},prototype:{lastState:null,templatesCache:null,renderUI:function(){var A=this;var L=A.get(J);L.unselectable();A._renderRowsPerPageOptions();A._renderTemplateUI();L.addClass(s);},bindUI:function(){var A=this;A._delegateDOM();A.publish("changeRequest");A.after("stateChange",ah.bind(A._afterSetState,A));A.before("stateChange",ah.bind(A._beforeSetState,A));A.after("maxPageLinksChange",ah.bind(A._renderTemplateUI,A));A.after("rowsPerPageChange",ah.bind(A._renderTemplateUI,A));A.after("totalChange",ah.bind(A._renderTemplateUI,A));},syncUI:function(){var A=this;A.changeRequest();},destructor:function(){var A=this;A.get(J).remove(true);},_syncPageLinksUI:function(){var A=this;var aN=A.get(J);var aM=A.get(p);var L=A.calculateRange(aM);aN.each(function(aQ){var aP=0;var aO=L.start;var aS=aQ.all(W+ap);if(aS.size()){aS.removeClass(z);while(aO<=L.end){var aR=aS.item(aP);A.get(K).apply(A,[aR,aO,aP]);aR.setAttribute(p,aO);if(aO==aM){aR.addClass(z);}aP++;aO++;}}});},_syncPageReportUI:function(L){var A=this;var aM=A.get(J);aM.each(function(aN){var aO=aN.one(W+v);if(aO){aO.html(A.get(u));}});},calculateRange:function(aN){var A=this;var aM=A.get(ae);var aQ=A.get(am);var aO=Math.ceil(aQ/2);var aP=Math.min(Math.max(aN-aO,1),(aM-aQ+1));var L=Math.min(aP+aQ-1,aM);return{start:aP,end:L};},changeRequest:function(){var A=this;var aN=A.get(T);if(A.get(D)){var aM=aN.page;var L=aN.totalPages;if(aN.before&&(aN.before.page==aM)){if(aM<=1){aN.page=L;}else{if(aM>=L){aN.page=1;}}A.set(T,aN);}}A.fire("changeRequest",{state:aN});},eachContainer:function(L){var A=this;A.get(J).each(function(aM){if(aM){L.apply(A,arguments);}});},hasNextPage:function(){var A=this;return A.hasPage(A.get(p)+1);},hasPage:function(aM){var A=this;var L=A.get(ae);return((aM>0)&&(aM<=L));},hasPrevPage:function(){var A=this;return A.hasPage(A.get(p)-1);},_renderRowsPerPageOptions:function(){var A=this;var aM=0;var L=A.get(aH);var aN=A.get(t);ah.each(aN,function(aO){L.getDOM().options[aM++]=new Option(aO,aO);});},_renderTemplateUI:function(){var A=this;var L=A.get(J);A.templatesCache=null;L.html(A.get(au));A._syncPageLinksUI();
A._syncPageReportUI();A._bindDOMEvents();},setState:function(L){var A=this;A.set(T,L);},_getState:function(L){var A=this;return{before:A.lastState,paginator:A,page:A.get(p),total:A.get(af),totalPages:A.get(ae),rowsPerPage:A.get(ak)};},_getTemplate:function(L){var A=this;if(!A.templatesCache){var aO=0;var aQ=A.get(am);var aN=A.get(w);while(aO++<aQ){aN.append(A.get(I));}var aM=function(aR){return A.get(aR).outerHTML();};var aP=aM(aH);if(at>=9){aP=aP.replace(/selected=""/gi,"");}A.templatesCache=X.sub(L,{CurrentPageReport:aM(e),FirstPageLink:aM(aj),LastPageLink:aM(M),NextPageLink:aM(av),PageLinks:aN.outerHTML(),PrevPageLink:aM(j),RowsPerPageSelect:aP,Total:aM(P)});}return A.templatesCache;},_setState:function(L){var A=this;ah.each(L,function(aN,aM){A.set(aM,aN);});return L;},_setTotal:function(aM){var A=this;var L=A.get(C);var aN=A.get(J);var aO=(L||(aM!==0&&aM>A.get(ak)));aN.toggle(aO);return aM;},_afterSetState:function(L){var A=this;A._syncPageLinksUI();A._syncPageReportUI();},_beforeSetState:function(L){var A=this;A.lastState=L.prevVal;},_onClickFirstLinkEl:function(L){var A=this;A.set(p,1);A.changeRequest();L.halt();},_onClickPrevLinkEl:function(L){var A=this;var aM=A.get(p);A.set(p,(A.hasPrevPage()?aM-1:aM));A.changeRequest();L.halt();},_onClickPageLinkEl:function(aM){var A=this;var L=aM.currentTarget.attr(p);A.set(p,L);A.changeRequest();aM.halt();},_onClickNextLinkEl:function(L){var A=this;var aM=A.get(p);A.set(p,(A.hasNextPage()?aM+1:aM));A.changeRequest();L.halt();},_onClickLastLinkEl:function(aM){var A=this;var L=A.get(ae);A.set(p,L);A.changeRequest();aM.halt();},_bindDOMEvents:function(){var A=this;A.eachContainer(function(aM){var L=aM.one(W+q);if(L){L.val(A.get(ak));L.detach("change");L.on("change",function(aO){var aN=A.get(ak);try{aN=aO.target.val();}catch(aP){}A.set(p,1);A.set(ak,aN);A.changeRequest();});}});},_delegateDOM:function(){var A=this;A.eachContainer(function(aM,L){aM.delegate("click",ah.bind(A._onClickFirstLinkEl,A),W+aK);aM.delegate("click",ah.bind(A._onClickPrevLinkEl,A),W+ao);aM.delegate("click",ah.bind(A._onClickPageLinkEl,A),W+ap);aM.delegate("click",ah.bind(A._onClickNextLinkEl,A),W+d);aM.delegate("click",ah.bind(A._onClickLastLinkEl,A),W+l);});}}});ah.Paginator=E;},"@VERSION@",{skinnable:true,requires:["aui-base"]});